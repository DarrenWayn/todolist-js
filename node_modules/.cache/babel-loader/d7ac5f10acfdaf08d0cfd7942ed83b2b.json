{"ast":null,"code":"var _jsxFileName = \"/Users/yoanbertha/demos/personal-projects/todolist-react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [activity, setActivity] = useState('');\n  const [edit, setEdit] = useState({});\n  const [todos, setTodos] = useState([]);\n\n  const generateId = () => {\n    return Date.now();\n  };\n\n  const saveTodoHandler = e => {\n    e.preventDefault();\n\n    if (!activity) {\n      return setMessage('Activity cant be empty');\n    }\n\n    setMessage('');\n\n    if (edit.id) {\n      const updatedTodo = { ...edit,\n        activity\n      };\n      const editTodoIndex = todos.findIndex(todo => {\n        return todo.id === edit.id;\n      }); //jangan direct dari editTodoIndex kita clone dulu di updatesTodos\n\n      const updatedTodos = [...todos];\n      updatedTodos[editTodoIndex] = updatedTodo;\n      setTodos(updatedTodos);\n      return cancleTodoHandler();\n    }\n\n    setTodos([...todos, {\n      id: generateId(),\n      activity\n    }]);\n    setActivity('');\n  };\n\n  const removetodoHandler = todoId => {\n    const filteredTodos = todos.filter(todo => {\n      return todo.id !== todoId;\n    });\n    setTodos(filteredTodos);\n\n    if (edit.id) {\n      cancleTodoHandler();\n    }\n  };\n\n  const editTodoHandler = todo => {\n    setActivity(todo.activity);\n    setEdit(todo);\n  };\n\n  const cancleTodoHandler = () => {\n    console.log('cancel edit');\n    setEdit({});\n    setActivity('');\n  };\n\n  const doneTodoHandler = todo => {\n    const updatedTodo = { ...todo,\n      done: todo.done ? false : true\n    };\n    const editTodoIndex = todos.findIndex(currentTodo => {\n      return currentTodo.id = todo.id;\n    });\n    const updatedTodos = [...todos];\n    updatedTodos[editTodoIndex] = updatedTodo;\n    setTodos(updatedTodos);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      saveTodoHandler: saveTodoHandler,\n      activity: activity,\n      setActivity: setActivity,\n      edit: edit,\n      cancleTodoHandler: cancleTodoHandler,\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      todos: todos,\n      editTodoHandler: editTodoHandler,\n      doneTodoHandler: doneTodoHandler,\n      removetodoHandler: removetodoHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"4N8gcmcLBwTh8bEoFRvKzxRIvXc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Header","Main","App","activity","setActivity","edit","setEdit","todos","setTodos","generateId","Date","now","saveTodoHandler","e","preventDefault","setMessage","id","updatedTodo","editTodoIndex","findIndex","todo","updatedTodos","cancleTodoHandler","removetodoHandler","todoId","filteredTodos","filter","editTodoHandler","console","log","doneTodoHandler","done","currentTodo","message"],"sources":["/Users/yoanbertha/demos/personal-projects/todolist-react/src/App.js"],"sourcesContent":["import React, { useState } from 'react'\nimport Header from './components/Header'\nimport Main from './components/Main'\n\nconst App = () => {\n  const [activity, setActivity] = useState('')\n  const [edit, setEdit] = useState({})\n  const [todos, setTodos] = useState([])\n\n  const generateId = () => {\n    return Date.now()\n  }\n\n  const saveTodoHandler = (e) => {\n      e.preventDefault()\n\n      if(!activity) {\n          return setMessage('Activity cant be empty')\n      }\n\n      setMessage('')\n      if (edit.id) {\n          const updatedTodo = {\n              ...edit,\n              activity\n          }\n\n          const editTodoIndex = todos.findIndex((todo) => {\n              return todo.id === edit.id\n          })\n\n          //jangan direct dari editTodoIndex kita clone dulu di updatesTodos\n          const updatedTodos = [...todos]\n\n          updatedTodos[editTodoIndex] = updatedTodo\n          setTodos(updatedTodos)\n\n          return cancleTodoHandler()\n          \n      }\n\n      setTodos([\n          ...todos, \n          {\n              id : generateId(),\n              activity\n          }\n      ])\n      setActivity('')\n  }\n\n  const removetodoHandler = (todoId) => {\n      const filteredTodos = todos.filter((todo) => {\n          return todo.id !== todoId\n      })\n\n      setTodos(filteredTodos)\n      if(edit.id) {\n          cancleTodoHandler()\n      }\n  }\n\n  const editTodoHandler = (todo) => {\n      setActivity(todo.activity)\n      setEdit(todo)\n  }\n\n  const cancleTodoHandler = () => {\n      console.log('cancel edit')\n      setEdit({}) \n      setActivity('') \n  }\n\n  const doneTodoHandler = (todo) => {\n      const updatedTodo = {\n          ...todo,\n          done: todo.done ? false : true\n      }\n\n      const editTodoIndex  = todos.findIndex((currentTodo) => {\n          return currentTodo.id = todo.id\n      })\n\n      const updatedTodos = [...todos]\n      updatedTodos[editTodoIndex] = updatedTodo\n      setTodos(updatedTodos)\n  }\n\n  return (\n    <div className='container'>\n      <Header\n        saveTodoHandler={saveTodoHandler}\n        activity={activity}\n        setActivity={setActivity}\n        edit={edit}\n        cancleTodoHandler={cancleTodoHandler}\n        message={message}\n      />\n      <Main\n        todos={todos}\n        editTodoHandler={editTodoHandler}\n        doneTodoHandler={doneTodoHandler}\n        removetodoHandler={removetodoHandler}\n      />\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}