{"ast":null,"code":"import _toConsumableArray from\"/Users/yoanbertha/demos/personal-projects/todolist-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/yoanbertha/demos/personal-projects/todolist-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/yoanbertha/demos/personal-projects/todolist-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Header from'./components/Header';import Main from'./components/Main';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),activity=_useState2[0],setActivity=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),edit=_useState4[0],setEdit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),todos=_useState6[0],setTodos=_useState6[1];var generateId=function generateId(){return Date.now();};var saveTodoHandler=function saveTodoHandler(e){e.preventDefault();if(edit.id){var updatedTodo=_objectSpread(_objectSpread({},edit),{},{activity:activity});var editTodoIndex=todos.findIndex(function(todo){return todo.id===edit.id;});//jangan direct dari editTodoIndex kita clone dulu di updatesTodos\nvar updatedTodos=_toConsumableArray(todos);updatedTodos[editTodoIndex]=updatedTodo;setTodos(updatedTodos);return cancleTodoHandler();}setTodos([].concat(_toConsumableArray(todos),[{id:generateId(),activity:activity}]));setActivity('');};var removetodoHandler=function removetodoHandler(todoId){var filteredTodos=todos.filter(function(todo){return todo.id!==todoId;});setTodos(filteredTodos);if(edit.id){cancleTodoHandler();}};var editTodoHandler=function editTodoHandler(todo){setActivity(todo.activity);setEdit(todo);};var cancleTodoHandler=function cancleTodoHandler(){console.log('cancel edit');setEdit({});setActivity('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{saveTodoHandler:saveTodoHandler,activity:activity,setActivity:setActivity,edit:edit,cancleTodoHandler:cancleTodoHandler}),/*#__PURE__*/_jsx(Main,{todos:todos,editTodoHandler:editTodoHandler,removetodoHandler:removetodoHandler})]});};export default App;","map":{"version":3,"names":["React","useState","Header","Main","App","activity","setActivity","edit","setEdit","todos","setTodos","generateId","Date","now","saveTodoHandler","e","preventDefault","id","updatedTodo","editTodoIndex","findIndex","todo","updatedTodos","cancleTodoHandler","removetodoHandler","todoId","filteredTodos","filter","editTodoHandler","console","log"],"sources":["/Users/yoanbertha/demos/personal-projects/todolist-react/src/App.js"],"sourcesContent":["import React, { useState } from 'react'\nimport Header from './components/Header'\nimport Main from './components/Main'\n\nconst App = () => {\n  const [activity, setActivity] = useState('')\n  const [edit, setEdit] = useState({})\n  const [todos, setTodos] = useState([])\n\n  const generateId = () => {\n    return Date.now()\n  }\n\n  const saveTodoHandler = (e) => {\n      e.preventDefault()\n\n      if (edit.id) {\n          const updatedTodo = {\n              ...edit,\n              activity\n          }\n\n          const editTodoIndex = todos.findIndex((todo) => {\n              return todo.id === edit.id\n          })\n\n          //jangan direct dari editTodoIndex kita clone dulu di updatesTodos\n          const updatedTodos = [...todos]\n\n          updatedTodos[editTodoIndex] = updatedTodo\n          setTodos(updatedTodos)\n\n          return cancleTodoHandler()\n          \n      }\n\n      setTodos([\n          ...todos, \n          {\n              id : generateId(),\n              activity\n          }\n      ])\n      setActivity('')\n  }\n\n  const removetodoHandler = (todoId) => {\n      const filteredTodos = todos.filter((todo) => {\n          return todo.id !== todoId\n      })\n\n      setTodos(filteredTodos)\n      if(edit.id) {\n          cancleTodoHandler()\n      }\n  }\n\n  const editTodoHandler = (todo) => {\n      setActivity(todo.activity)\n      setEdit(todo)\n  }\n\n  const cancleTodoHandler = () => {\n      console.log('cancel edit')\n      setEdit({}) \n      setActivity('') \n  }\n\n  return (\n    <div className='container'>\n      <Header\n        saveTodoHandler={saveTodoHandler}\n        activity={activity}\n        setActivity={setActivity}\n        edit={edit}\n        cancleTodoHandler={cancleTodoHandler}\n      />\n      <Main\n        todos={todos}\n        editTodoHandler={editTodoHandler}\n        removetodoHandler={removetodoHandler}\n      />\n    </div>\n  )\n}\n\nexport default App"],"mappings":"ibAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,KAAP,KAAiB,mBAAjB,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAM,CAChB,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAAwBL,QAAQ,CAAC,EAAD,CAAhC,yCAAOM,IAAP,eAAaC,OAAb,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,MAAOC,KAAI,CAACC,GAAL,EAAP,CACD,CAFD,CAIA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GAEA,GAAIT,IAAI,CAACU,EAAT,CAAa,CACT,GAAMC,YAAW,gCACVX,IADU,MAEbF,QAAQ,CAARA,QAFa,EAAjB,CAKA,GAAMc,cAAa,CAAGV,KAAK,CAACW,SAAN,CAAgB,SAACC,IAAD,CAAU,CAC5C,MAAOA,KAAI,CAACJ,EAAL,GAAYV,IAAI,CAACU,EAAxB,CACH,CAFqB,CAAtB,CAIA;AACA,GAAMK,aAAY,oBAAOb,KAAP,CAAlB,CAEAa,YAAY,CAACH,aAAD,CAAZ,CAA8BD,WAA9B,CACAR,QAAQ,CAACY,YAAD,CAAR,CAEA,MAAOC,kBAAiB,EAAxB,CAEH,CAEDb,QAAQ,8BACDD,KADC,GAEJ,CACIQ,EAAE,CAAGN,UAAU,EADnB,CAEIN,QAAQ,CAARA,QAFJ,CAFI,GAAR,CAOAC,WAAW,CAAC,EAAD,CAAX,CACH,CA/BD,CAiCA,GAAMkB,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,MAAD,CAAY,CAClC,GAAMC,cAAa,CAAGjB,KAAK,CAACkB,MAAN,CAAa,SAACN,IAAD,CAAU,CACzC,MAAOA,KAAI,CAACJ,EAAL,GAAYQ,MAAnB,CACH,CAFqB,CAAtB,CAIAf,QAAQ,CAACgB,aAAD,CAAR,CACA,GAAGnB,IAAI,CAACU,EAAR,CAAY,CACRM,iBAAiB,GACpB,CACJ,CATD,CAWA,GAAMK,gBAAe,CAAG,QAAlBA,gBAAkB,CAACP,IAAD,CAAU,CAC9Bf,WAAW,CAACe,IAAI,CAAChB,QAAN,CAAX,CACAG,OAAO,CAACa,IAAD,CAAP,CACH,CAHD,CAKA,GAAME,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC5BM,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAtB,OAAO,CAAC,EAAD,CAAP,CACAF,WAAW,CAAC,EAAD,CAAX,CACH,CAJD,CAMA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,EACE,eAAe,CAAEQ,eADnB,CAEE,QAAQ,CAAET,QAFZ,CAGE,WAAW,CAAEC,WAHf,CAIE,IAAI,CAAEC,IAJR,CAKE,iBAAiB,CAAEgB,iBALrB,EADF,cAQE,KAAC,IAAD,EACE,KAAK,CAAEd,KADT,CAEE,eAAe,CAAEmB,eAFnB,CAGE,iBAAiB,CAAEJ,iBAHrB,EARF,GADF,CAgBD,CAhFD,CAkFA,cAAepB,IAAf"},"metadata":{},"sourceType":"module"}